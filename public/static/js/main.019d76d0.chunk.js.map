{"version":3,"sources":["components/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/Api.js","components/App.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","like","cardLikeButtonClassName","type","onClick","link","name","Main","onEditProfile","onAddPlace","onEditAvatar","cards","avatar","about","map","Footer","ImagePopup","isOpen","onClose","PopupWithForm","title","buttonText","children","onSubmit","isLoading","action","method","noValidate","EditProfilePopup","onUpdateUser","description","onNameChange","onDescriptionChange","e","preventDefault","id","value","placeholder","required","minLength","maxLength","onChange","EditAvatarPopup","onUpdateAvatar","useRef","current","target","reset","ref","AddPlacePopup","onTitleChange","onLinkChange","api","url","headers","this","_url","_headers","res","ok","json","Promise","reject","Error","status","fetch","then","_parsAnswer","all","getInitialCards","getUserInfo","inputData","body","JSON","stringify","data","authorization","App","useState","setCurrentUser","setCards","setName","setDescription","setTitle","setLink","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isSelectedCardOpen","setIsSelestedCardOpen","selectedCardData","setSelectedCardData","setLoading","closeAllPopups","useEffect","getAllInfo","cardsData","userData","catch","err","console","log","Provider","i","changeLikeCardStatus","newCard","newCards","item","deleteCard","filter","userInfo","editUserInfo","newUserInfo","finally","editAvatar","newAvatar","addCard","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.019d76d0.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import React from 'react';\r\nimport logo from './logo.svg';\r\n\r\nfunction Header() {\r\n    return (\r\n\r\n        <header className=\"header page__sections\">\r\n            <img src={logo} alt=\"Mesto Russia\" className=\"header__logo\" />\r\n        </header>\r\n\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n\r\n    function handleClick() {\r\n        onCardClick(card);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        onCardLike(card);\r\n    }\r\n\r\n    function handleDelete() {\r\n        onCardDelete(card)\r\n    }\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n    // Показ иконки удаления\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `button elements__trash ${isOwn ? 'elements__trash_active' : ''}`\r\n    );\r\n\r\n    // Показ лайка\r\n    const isLiked = card.likes.some(like => like._id === currentUser._id);\r\n    const cardLikeButtonClassName = (\r\n        `button elements__like ${isLiked ? 'elements__like_active' : ''}`\r\n    );\r\n\r\n\r\n    return (\r\n\r\n        <li className=\"elements__item\" >\r\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDelete} > </button>\r\n            <img src={card.link} alt={card.name} className=\"elements__img\" onClick={handleClick} />\r\n            <div className=\"elements__label\">\r\n                <h2 className=\"elements__title\">{card.name}</h2>\r\n                <div className=\"elements__likes\">\r\n                    <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n                    <div className=\"elements__like-count\">0</div>\r\n                </div>\r\n            </div>\r\n        </li>\r\n\r\n    );\r\n}\r\n\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\n\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({\r\n    onEditProfile,\r\n    onAddPlace,\r\n    onEditAvatar,\r\n    onCardClick,\r\n    onCardLike,\r\n    onCardDelete,\r\n    cards\r\n\r\n    // cards\r\n}) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n\r\n    return (\r\n        <main>\r\n\r\n            <section className=\"profile page__sections\">\r\n                <img src={currentUser.avatar} alt={currentUser.name} className=\"profile__avatar\" />\r\n                <button type=\"button\" className=\"button profile__avatar_edit\" onClick={onEditAvatar}></button>\r\n                <div className=\"profile__info\">\r\n                    <h1 className=\"profile__title\">{currentUser.name} </h1>\r\n                    <button type=\"button\" className=\"button profile__edit\" onClick={onEditProfile}></button>\r\n                    <p className=\"profile__text\">{currentUser.about}</p>\r\n                </div>\r\n                <button type=\"button\" className=\"button profile__add\" onClick={onAddPlace}></button>\r\n            </section>\r\n\r\n            <section className=\"cards page__sections\">\r\n                <ul className=\"cards__items\">\r\n                    {\r\n                        cards.map((card) =>\r\n                            < Card\r\n                                key={card._id}\r\n                                card={card}\r\n                                onCardClick={onCardClick}\r\n                                onCardLike={onCardLike}\r\n                                onCardDelete={onCardDelete}\r\n                            />\r\n                        )\r\n                    }\r\n                </ul>\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;","import React from \"react\";\r\n\r\nfunction Footer() {\r\n    return (\r\n\r\n        <footer className=\"footer page__sections\">\r\n            <p className=\"footer__text\"> &#169; 2020 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;\r\n\r\n","import React from 'react';\r\n\r\nfunction ImagePopup({ card, isOpen, onClose }) {\r\n\r\n    return (\r\n        <>\r\n            <div className={`popup popup_type_layout ${isOpen ? 'popup_opened' : ''}`}>\r\n                <div className=\"popup__container popup__container_layout\">\r\n                    <button type=\"button\" className=\"button popup__close\" onClick={onClose}></button>\r\n                    <img src={card.link} alt={card.name} className=\"popup__img\" />\r\n                    <h2 className=\"popup__title popup__title_layout\">{card.name}</h2>\r\n                </div>\r\n            </div>\r\n        </>\r\n\r\n    );\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\n\r\nfunction PopupWithForm({ name, title, buttonText, children, isOpen, onClose, onSubmit, isLoading }) {\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`} >\r\n                <div className=\"popup__container\">\r\n                    <button type=\"button\" className=\"button popup__close\" onClick={onClose}></button>\r\n                    <form onSubmit={onSubmit} name={name} action=\"#\" method=\"post\" className=\"popup__form\" noValidate>\r\n                        <h3 className=\"popup__title\">{title}</h3>\r\n                        {children}\r\n                        <button type=\"submit\" className=\"button popup__save\">{isLoading ? 'Сохранение...' : buttonText} </button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </>\r\n\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\n// import { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoading, name, description, onNameChange, onDescriptionChange }) {\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    return (\r\n\r\n        <PopupWithForm\r\n            name=\"profile\"\r\n            title=\"Редактировать профиль\"\r\n            buttonText=\"Сохранить\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            isLoading={isLoading}\r\n        >\r\n            <input id=\"input-name\" type=\"text\" name=\"name\" value={name || \"\"} placeholder='Имя'\r\n                className=\"popup__input popup__input_subject_name\" required minLength=\"2\" maxLength=\"40\" onChange={onNameChange} />\r\n            <span id=\"input-name-error\" className=\"popup__input-error\"></span>\r\n            <input id=\"input-job\" type=\"text\" name=\"about\" value={description || \"\"} placeholder='О себе'\r\n                className=\"popup__input popup__input_subject_job\" required minLength=\"2\" maxLength=\"200\" onChange={onDescriptionChange} />\r\n            <span id=\"input-job-error\" className=\"popup__input-error\"></span>\r\n        </PopupWithForm>\r\n\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\n// import { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoading }) {\r\n\r\n    const avatar = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateAvatar({\r\n            avatar: avatar.current.value,\r\n        });\r\n        e.target.reset();\r\n    }\r\n\r\n    return (\r\n\r\n        <PopupWithForm\r\n            name=\"avatar\"\r\n            title=\"Обновить аватар\"\r\n            buttonText=\"Сохранить\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            isLoading={isLoading}\r\n        >\r\n\r\n\r\n            <input ref={avatar} id=\"input-link\" type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\"\r\n                className=\"popup__input popup__input_subject_pic-link\" required />\r\n            <span id=\"input-link-error\" className=\"popup__input-error\"></span>\r\n\r\n        </PopupWithForm >\r\n\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isLoading, onTitleChange, onLinkChange, name, link }) {\r\n\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onAddPlace({\r\n            name,\r\n            link\r\n        });\r\n        e.target.reset();\r\n    }\r\n\r\n    return (\r\n\r\n        <PopupWithForm\r\n            name=\"element\"\r\n            title=\"Новое место\"\r\n            buttonText=\"Создать\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            isLoading={isLoading}\r\n        >\r\n            <>\r\n                <input id=\"input-name\" type=\"text\" name=\"name\" value={name || \"\"} placeholder=\"Название\"\r\n                    className=\"popup__input popup__input_subject_pictitle\" required minLength=\"1\" maxLength=\"30\" onChange={onTitleChange} />\r\n                <span id=\"input-name-error\" className=\"popup__input-error\"></span>\r\n                <input id=\"input-link\" type=\"url\" name=\"link\" value={link || \"\"} placeholder=\"Ссылка на картинку\"\r\n                    className=\"popup__input popup__input_subject_pic-link\" required onChange={onLinkChange} />\r\n                <span id=\"input-link-error\" className=\"popup__input-error\"></span>\r\n            </>\r\n        </PopupWithForm>\r\n\r\n    );\r\n}\r\n\r\n\r\nexport default AddPlacePopup;","class Api {\r\n    constructor({ url, headers }) {\r\n        this._url = url\r\n        this._headers = headers\r\n    };\r\n\r\n    _parsAnswer(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    }\r\n\r\n\r\n    // 1. Загрузка информации о пользователе с сервера\r\n    getUserInfo() {\r\n        return fetch(`${this._url}/users/me`, {\r\n            headers: this._headers\r\n        })\r\n            .then(this._parsAnswer)\r\n        //       .then((res) => {\r\n        // console.log(res)\r\n        //       })\r\n    };\r\n\r\n    // 2. Загрузка карточек с сервера\r\n    getInitialCards() {\r\n        return fetch(`${this._url}/cards`, {\r\n            headers: this._headers\r\n        })\r\n            .then(this._parsAnswer)\r\n        //       .then((res) => {\r\n        // console.log(res);\r\n        //       })\r\n    };\r\n\r\n\r\n    getAllInfo() {\r\n        return Promise.all([this.getInitialCards(), this.getUserInfo()])\r\n    }\r\n\r\n    // 3. Редактирование профиля\r\n    editUserInfo(inputData) {\r\n        return fetch(`${this._url}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: inputData.name,\r\n                about: inputData.about\r\n            })\r\n        })\r\n            .then(this._parsAnswer)\r\n    }\r\n\r\n    // 4. Добавление новой карточки\r\n    addCard(data) {\r\n        return fetch(`${this._url}/cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                link: data.link\r\n            })\r\n        })\r\n            .then(this._parsAnswer)\r\n\r\n    }\r\n\r\n    // 7. Удаление карточки\r\n    deleteCard(_id) {\r\n        return fetch(`${this._url}/cards/${_id}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n            .then(this._parsAnswer)\r\n    }\r\n\r\n\r\n    // 8. Постановка и снятие лайка\r\n    changeLikeCardStatus(_id, isLiked) {\r\n        return fetch(`${this._url}/cards/likes/${_id}`, {\r\n            method: `${isLiked ? 'PUT' : 'DELETE'}`,\r\n            headers: this._headers\r\n        })\r\n            .then(this._parsAnswer)\r\n    }\r\n\r\n\r\n    // 9. Обновление аватара пользователя  \r\n    editAvatar(inputData) {\r\n        return fetch(`${this._url}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: inputData.avatar\r\n            })\r\n        })\r\n            .then(this._parsAnswer)\r\n    }\r\n}\r\n\r\n\r\nexport const api = new Api({\r\n    url: 'https://mesto.nomoreparties.co/v1/cohort-16',\r\n    headers: {\r\n        authorization: '5e818745-1601-43fc-b5f2-fedadb1bc162',\r\n        'Content-Type': 'application/json'\r\n    }\r\n});","import React from 'react';\n// import { Route } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\n// import PopupWithForm from './PopupWithForm';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport { api } from '../utils/Api.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction App() {\n\n\n    // Стейты\n    const [currentUser, setCurrentUser] = React.useState({});\n    const [cards, setCards] = React.useState([]);\n    // я все хуки из попапов собрала в App, вынеся их за пределы компонентов, но в этом попапе забыла удалить дублирующй код, прошу прощения за невнимательность\n    // Честно говоря, уже не помню почему, решила, что собирать хуки в Аpp правильно, если лучше, чтобы хуки в самих попапах, верну все обратно\n    const [name, setName] = React.useState('');\n\n    const [description, setDescription] = React.useState('');\n\n    const [title, setTitle] = React.useState('');\n    const [link, setLink] = React.useState('');\n\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n    // const [isUpdatePopupOpen, setUpdatePopupOpen] = React.useState(false);\n    const [isSelectedCardOpen, setIsSelestedCardOpen] = React.useState(false);\n    const [selectedCardData, setSelectedCardData] = React.useState({});\n    const [isLoading, setLoading] = React.useState(false);\n\n    // Загрузка данных\n\n    React.useEffect(() => {\n        api.getAllInfo()\n            .then(res => {\n                const cardsData = res[0];\n                const userData = res[1];\n                setCurrentUser(userData)\n                setCards(cardsData)\n            })\n            .catch((err) => {\n                console.log(err)\n            });\n    }, []);\n\n    // Профиль\n\n    function handleUpdateUser(userInfo) {\n        setLoading(true)\n        api.editUserInfo(userInfo)\n            .then((newUserInfo) => {\n                setCurrentUser(newUserInfo)\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(err)\n            })\n            .finally(() => {\n\n                setLoading(false)\n            })\n    }\n\n    function handleUpdateAvatar(avatar) {\n        setLoading(true)\n        api.editAvatar(avatar)\n            .then((newAvatar) => {\n                setCurrentUser(newAvatar)\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(err)\n            })\n            .finally(() => {\n\n                setLoading(false)\n            })\n    }\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser]);\n\n    function handleNameChange(e) {\n        setName(e.target.value);\n    }\n\n    function handleDescriptionChange(e) {\n        setDescription(e.target.value);\n    }\n\n\n    // КАРТОЧКИ\n\n\n    function handleAddPlaceSubmit(cardsData) {\n        setLoading(true)\n        api.addCard(cardsData)\n            .then((newCard) => {\n                setCards([newCard, ...cards])\n                closeAllPopups()\n            })\n            .catch((err) => {\n                console.log(err)\n\n            })\n            .finally(() => {\n                setLoading(false)\n            })\n    }\n\n    React.useEffect(() => {\n        setTitle('');\n        setLink('');\n    }, []);\n\n    function handleTitleChange(e) {\n        setTitle(e.target.value);\n    }\n\n    function handleLinkChange(e) {\n        setLink(e.target.value);\n    }\n\n\n    // открыть из карточки попап с картинкой\n\n    function handleCardClick(card) {\n        setIsSelestedCardOpen(true);\n        setSelectedCardData({\n            link: card.link,\n            name: card.name,\n            alt: card.name\n        })\n\n    }\n\n    // поставить-удалить лайк\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n        api.changeLikeCardStatus(card._id, !isLiked)\n            .then((newCard) => {\n                const newCards = cards.map((item) => item._id === card._id ? newCard : item);\n                setCards(newCards);\n            })\n            .catch(err => {\n                console.log(err)\n            });\n    }\n\n    function handleCardDelete(card) {\n\n        api.deleteCard(card._id)\n            .then((newCard) => {\n                const newCards = cards.filter((item) => item._id !== card._id ? newCard : '');\n                setCards(newCards);\n            })\n            .catch(err => {\n                console.log(err)\n            });\n    }\n\n\n    // ПОПАПЫ\n\n    // состояние попапов\n\n\n    //Обработчики попапов\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true);\n    }\n\n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true);\n    }\n\n    // function handleUpdatePopupClick() {\n    //     setUpdatePopupOpen(true);\n    // }\n\n    function closeAllPopups() {\n        setIsEditAvatarPopupOpen(false);\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsSelestedCardOpen(false);\n        setSelectedCardData({})\n    }\n\n\n\n    // Возврат\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n\n            <div className=\"App\">\n                <Header />\n                <Main\n                    onEditProfile={handleEditProfileClick}\n                    onAddPlace={handleAddPlaceClick}\n                    onEditAvatar={handleEditAvatarClick}\n                    onCardClick={handleCardClick}\n                    onCardLike={handleCardLike}\n                    onCardDelete={handleCardDelete}\n                    cards={cards}\n\n                // cards={initialCards}\n\n                />\n                <Footer />\n\n                <EditProfilePopup\n                    isOpen={isEditProfilePopupOpen}\n                    onClose={closeAllPopups}\n                    onUpdateUser={handleUpdateUser}\n                    isLoading={isLoading}\n                    onNameChange={handleNameChange}\n                    onDescriptionChange={handleDescriptionChange}\n                    name={name}\n                    description={description}\n                />\n\n                <EditAvatarPopup\n                    isOpen={isEditAvatarPopupOpen}\n                    onClose={closeAllPopups}\n                    onUpdateAvatar={handleUpdateAvatar}\n                    isLoading={isLoading}\n                />\n\n                <AddPlacePopup\n                    isOpen={isAddPlacePopupOpen}\n                    onClose={closeAllPopups}\n                    onAddPlace={handleAddPlaceSubmit}\n                    isLoading={isLoading}\n                    onTitleChange={handleTitleChange}\n                    onLinkChange={handleLinkChange}\n                    name={title}\n                    link={link}\n                />\n\n\n\n\n                {/* <PopupWithForm\n        name = \"update\"\n        title = \"Вы уверены?\"\n        button = \"Да\"\n        isOpen={isUpdatePopupOpen}\n        onClose={closeAllPopups}\n        >        \n    </PopupWithForm> */}\n\n\n                <ImagePopup\n                    card={selectedCardData}\n                    isOpen={isSelectedCardOpen}\n                    onClose={closeAllPopups}\n\n                ></ImagePopup>\n\n            </div>\n\n\n        </CurrentUserContext.Provider>\n    )\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    {/* <BrowserRouter> */}\n      <App />\n    {/* </BrowserRouter> */}\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n// reportWebVitals();\n"],"sourceRoot":""}